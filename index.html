<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />

    <title>Trackets Playground</title>

    <script type="text/javascript" charset="utf-8">
      window.__TRACKETS_DEBUG_MODE = true;
    </script>
    <script src="http://localhost:9292/lib/goog-base.js"></script>
    <script src="http://localhost:9292/lib/goog-deps.js"></script>
    <script src="http://localhost:9292/dist/main.js"></script>
    <script>
      var orig = document.addEventListener;
      /* document.addEventListener = function(type, listener, useCapture) {
         var a = arguments;
         a[1] = wrap(a[1]);
         orig.apply(this, a);
         }; */

      function a() {
        b();
      }

      function b() {
        throw new Error("Advanced mode error test");
      }

      document.addEventListener("click", function(e) {
        console.log("clicked");

        if (e.target.tagName === "BUTTON") {
          a();
        }
      });


    </script>

  </head>
  <body>
    <h1>I don't do anything</h1>
    <button type="submit">Click on me</button>
    <script>
      // window.__trackets_mock_send_request = function(url, data) {
      //   console.group("Error report");
      //   console.log("URL:", url);
      //   console.log("Stacktrace", data.error.stacktrace);
      //   console.log(data.error);
      //   console.groupEnd();
      // }

      Trackets.init({
        api_key: "d1c375ec17ec8335a9c177ace3d766e4",
        api_base_url: "http://trackets.dev/"
      });

      // setTimeout(function() {
      // a();
      // }, 500);

      // var obj = {
      //   a: function() { throw new Error("a"); },
      //   b: function() { throw new Error("derper") }
      // };
      //
      // Trackets.guardObject(obj, ["a"]);
      //
      // obj.a();

    </script>
  </body>
</html>
